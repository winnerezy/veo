(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[899],{8872:(e,t,n)=>{Promise.resolve().then(n.bind(n,4494))},4494:(e,t,n)=>{"use strict";n.d(t,{default:()=>x});var r=n(5155),a=n(547),s=n(2651),i=n(3205),o=n(7833);function l(e,t){let n=(0,o.a)(e),r=(0,o.a)(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}var c=n(6331),u=n(2468),d=n(844),f=n(4436),h=n(4085),m=n(3279),v=n(1665),g=n(2950);let x=e=>{let{pollId:t}=e,{data:n,isLoading:x}=(0,a.I)({queryKey:["poll"],queryFn:async()=>(await s.A.get("".concat(m.f,"/api/v1/polls/").concat(t),{withCredentials:!0})).data}),p=async e=>{try{let n=(await s.A.post("".concat(m.f,"/api/v1/polls/").concat(t,"/vote/").concat(e),null,{withCredentials:!0})).data;(0,v.oR)(n)}catch(e){if(e instanceof i.pe){var n;(0,v.oR)(JSON.stringify(null===(n=e.response)||void 0===n?void 0:n.data))}}};return(0,r.jsx)("div",{className:"w-full max-w-5xl flex flex-col",children:x?(0,r.jsx)("div",{className:"flex h-[calc(100vh-48px)] items-center justify-center",children:(0,r.jsx)("p",{children:"Loading"})}):"string"==typeof n?(0,r.jsxs)("div",{className:"flex h-[calc(100vh-48px)] justify-center items-center flex-col",children:[(0,r.jsx)(g.$l0,{size:40,className:"text-primary"}),(0,r.jsx)("h2",{className:"font-bold text-3xl",children:n})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex gap-2 justify-between items-center",children:[(0,r.jsx)("h2",{className:"font-bold text-3xl mt-4 ",children:null==n?void 0:n.title}),(0,r.jsxs)("p",{children:["Ends In"," ",(0,r.jsx)("span",{children:n&&function(e,t,n){var r,a,s,i,h;let m,v,g;let x=null!==(r=(0,d.q)().locale)&&void 0!==r?r:u.c,p=l(e,t);if(isNaN(p))throw RangeError("Invalid time value");let b=Object.assign({},void 0,{addSuffix:void 0,comparison:p});p>0?(m=(0,o.a)(t),v=(0,o.a)(e)):(m=(0,o.a)(e),v=(0,o.a)(t));let y=(a=v,s=m,(h=null==void 0?void 0:(void 0).roundingMethod,e=>{let t=(h?Math[h]:Math.trunc)(e);return 0===t?0:t})((+(0,o.a)(a)-+(0,o.a)(s))/1e3)),w=Math.round((y-((0,f.G)(v)-(0,f.G)(m))/1e3)/60);if(w<2){if(null==n?void 0:n.includeSeconds){if(y<5)return x.formatDistance("lessThanXSeconds",5,b);if(y<10)return x.formatDistance("lessThanXSeconds",10,b);if(y<20)return x.formatDistance("lessThanXSeconds",20,b);if(y<40)return x.formatDistance("halfAMinute",0,b);else if(y<60)return x.formatDistance("lessThanXMinutes",1,b);else return x.formatDistance("xMinutes",1,b)}return 0===w?x.formatDistance("lessThanXMinutes",1,b):x.formatDistance("xMinutes",w,b)}if(w<45)return x.formatDistance("xMinutes",w,b);if(w<90)return x.formatDistance("aboutXHours",1,b);if(w<c.F6){let e=Math.round(w/60);return x.formatDistance("aboutXHours",e,b)}if(w<2520)return x.formatDistance("xDays",1,b);if(w<c.Nw){let e=Math.round(w/c.F6);return x.formatDistance("xDays",e,b)}if(w<2*c.Nw)return g=Math.round(w/c.Nw),x.formatDistance("aboutXMonths",g,b);if((g=function(e,t){let n;let r=(0,o.a)(e),a=(0,o.a)(t),s=l(r,a),i=Math.abs(function(e,t){let n=(0,o.a)(e),r=(0,o.a)(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,a));if(i<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let t=l(r,a)===-s;(function(e){let t=(0,o.a)(e);return+function(e){let t=(0,o.a)(e);return t.setHours(23,59,59,999),t}(t)==+function(e){let t=(0,o.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(t)})((0,o.a)(e))&&1===i&&1===l(e,a)&&(t=!1),n=s*(i-Number(t))}return 0===n?0:n}(v,m))<12){let e=Math.round(w/c.Nw);return x.formatDistance("xMonths",e,b)}{let e=g%12,t=Math.trunc(g/12);return e<3?x.formatDistance("aboutXYears",t,b):e<9?x.formatDistance("overXYears",t,b):x.formatDistance("almostXYears",t+1,b)}}(new Date(n.ending),new Date)})]})]}),(0,r.jsx)("div",{className:"gap-2 text-center grid grid-cols-1 sm:grid-cols-3 mt-24",children:(null==n?void 0:n.options)&&n.options.map(e=>(0,r.jsx)("div",{children:(0,r.jsxs)(h.$,{className:"w-full h-10",onClick:()=>p(e.id),children:["Vote ",e.name]})},e.id))})]})})}},4085:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var r=n(5155),a=n(2115),s=n(1290),i=n(1027),o=n(9602);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:n,variant:a,size:i,asChild:c=!1,...u}=e,d=c?s.DX:"button";return(0,r.jsx)(d,{className:(0,o.cn)(l({variant:a,size:i,className:n})),ref:t,...u})});c.displayName="Button"},3279:(e,t,n)=>{"use strict";n.d(t,{f:()=>a,q:()=>r});let r=[{title:"Quick poll creation"},{title:"TIme based voting"},{title:"One time voting"},{title:"Easy result compilation"}],a="https://veo-production.up.railway.app"},9602:(e,t,n)=>{"use strict";n.d(t,{cn:()=>s});var r=n(3463),a=n(9795);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.QP)((0,r.$)(t))}},3205:(e,t,n)=>{"use strict";n.d(t,{pe:()=>a});let{Axios:r,AxiosError:a,CanceledError:s,isCancel:i,CancelToken:o,VERSION:l,all:c,Cancel:u,isAxiosError:d,spread:f,toFormData:h,AxiosHeaders:m,HttpStatusCode:v,formToJSON:g,getAdapter:x,mergeConfig:p}=n(2651).A}},e=>{var t=t=>e(e.s=t);e.O(0,[150,181,172,46,812,441,517,358],()=>t(8872)),_N_E=e.O()}]);